# 人生旅途模擬器 - 遊戲規格書

## 專案概述

本專案是基於 **Gemini Canvas** 平台開發的互動式人生模擬遊戲。透過 Gemini Canvas 內建的 AI 功能和智能分析能力，實現動態事件生成、角色屬性計算、人格分析等核心功能，確保每次遊玩都能獲得獨特且連貫的體驗。

## 1. 遊戲核心概念

### 遊戲類型
- **類型**: 一款單人、以文字互動為主的角色扮演人生模擬遊戲
- **目標**: 讓玩家在一個充滿選擇的短篇故事中，塑造一個獨特的角色，並在遊戲結束後，獲得一份關於該角色人生故事、人格特質與能力成長的綜合性報告
- **遊戲長度**: 每場遊戲由 10 個獨立的事件（回合）組成

## 2. 遊戲設定階段

### 玩家自訂化
遊戲開始前，玩家必須設定兩個核心要素：

- **角色出身**: 決定角色的初始背景
- **人生主題**: 決定整個遊戲故事的核心風格與方向

### 預設與自訂選項

- 為「出身」和「主題」提供 3 個預設選項，每個選項都附有簡短描述
- 提供「自訂」選項，允許玩家透過文字輸入框，完全自訂出身與主題

## 3. 核心屬性系統

遊戲圍繞六大核心屬性建構，分為兩大類。

### 3.1. 能力屬性

- **武力**: 代表角色的物理力量、戰鬥與正面衝突的能力
- **智謀**: 代表角色的智慧、策略規劃與解決複雜問題的能力
- **風采**: 代表角色的社交魅力、說服、領導與影響他人的能力

### 3.2. 陣營屬性

- **名聲**: 角色在社會上的聲望，可以是正面或負面的
- **財務**: 角色所擁有的金錢與資源
- **善惡**: 角色的道德傾向

### 3.3. 屬性顯示規則

- **數值屬性**: 武力、智謀、風采、名聲、財務，在介面上以 `目前值 / 99` 的格式顯示
- **善惡屬性**: 此屬性不顯示數值，而是根據其內部數值（範圍 0-100，初始為 50）顯示為帶有特定顏色的文字標籤：
  - 善 (天藍色)
  - 中立 (黃色)
  - 惡 (紅色)

## 4. 遊戲互動機制

### 4.1. 介面佈局

- **雙欄結構**: 遊戲主畫面分為左右兩欄
- **左欄**: 固定顯示角色的「動態稱號」與六大屬性的即時狀態
- **右欄**: 顯示當前的事件、玩家的決策選項以及行動後的結果
- **響應式設計**: 介面應適應不同螢幕尺寸，在行動裝置上也能正常使用

### 4.2. 動態稱號

- 角色在左上角擁有一個動態稱號（例如：「受人敬仰的武林盟主」）
- 稱號的前半段形容詞由「名聲」和「善惡」共同決定
- 稱號的後半段職業名由「武力」、「智謀」、「風采」中的最高項，並結合「人生主題」來決定

### 4.3. 事件流程

- **事件呈現**: 系統為每個回合生成一個帶有標題和簡短描述的隨機事件
- **主題關聯性**: 所有事件都必須與玩家開局設定的「人生主題」緊密相關
- **事件遞進**: 事件的影響力應隨著回合數的增加而逐漸提升，且不應重複
- **回合計數器**: 顯示當前事件進度（如：事件 1 / 10）
- **載入狀態**: 在 AI 生成內容時顯示載入動畫和提示文字
- **玩家決策**: 玩家有兩種方式進行決策：
  - 從下拉式選單中選擇一個預設的行動方案
  - 在文字輸入框中，輸入自訂的行動
- **結果反饋**: 確定決定後，系統會顯示該行動導致的結果劇情，並觸發屬性變化

### 4.4. 屬性變化與提示

- **即時反饋**: 玩家確定決定後，左側變動的屬性會立即以 `新數值 (+/-變化值) / 99` 的格式高亮顯示（增為綠色，減為紅色）
- **提示持續**: 此高亮提示會一直存在，直到玩家點擊「繼續」按鈕，進入下一個事件時才會消失
- **動畫效果**: 屬性變化時應有適當的動畫效果，提升視覺體驗

### 4.5. 失敗機制

- **觸發條件**: 當任何一個數值屬性（不含善惡）因扣減而將要變為負數時，即觸發失敗
- **屬性歸零**: 觸發失敗的屬性，其數值會被固定在最小值 0
- **失敗事件**: 系統會生成一段專屬的失敗劇情，描述角色因該屬性崩潰而陷入的困境
- **連鎖懲罰**: 失敗事件會對角色其他尚未歸零的屬性，造成進一步的懲罰性扣減
- **懲罰上限**: 失敗事件的懲罰性扣減值，不得超過目標屬性現有數值的 20%

## 5. 結局與報告

遊戲在 10 回合結束或玩家手動提早結束後，會生成一份綜合報告。

### 5.1. 報告內容

#### 人生標題與總結
一個總結性的稱號和一段關於角色一生的故事。

#### 人格分析 (MBTI)
- 系統根據玩家在預設選項中的選擇，在背景中累計 MBTI 人格傾向分數
- 報告中會顯示最終計算出的人格類型（如：INTJ）、其對應的稱號（如：建築師）以及一段相關的分析

#### 數據回顧
- **最終能力雷達圖**: 視覺化呈現五個數值屬性的最終分佈
- **屬性成長趨勢圖**: 以折線圖展示六個核心屬性在十個事件中的完整變化軌跡

#### 人生足跡
- 以一個獨立、無滾動條的垂直時間軸形式呈現
- 每個時間節點都詳細記錄了該回合的事件標題、事件描述、玩家的決定，以及該決定造成的屬性變化詳情

### 5.2. 報告功能

- **重新開始**: 提供按鈕讓玩家可以開啟一場全新的人生
- **匯出PDF**: 提供按鈕，允許玩家將整份包含所有圖文內容的報告，下載為一個 PDF 檔案進行保存
- **PDF 載入狀態**: 匯出 PDF 時應顯示載入動畫，避免重複點擊

## 6. 平台要求

本遊戲基於 **Gemini Canvas** 平台開發，需要充分利用其內建的 AI 功能和 API 來實現動態內容生成和智能分析。

## 7. 系統穩定性要求

- **API 重試機制**: 當 AI API 請求失敗時，應自動重試（最多 3 次），並使用指數退避策略
- **錯誤處理**: 當 API 完全無法使用時，應顯示友善的錯誤訊息，引導玩家稍後重試
- **載入狀態管理**: 防止玩家在 AI 處理過程中重複提交請求